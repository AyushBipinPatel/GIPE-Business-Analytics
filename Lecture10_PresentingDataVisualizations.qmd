---
title: "Business Analytics"
subtitle: "Presenting Data Visualizations Effectively"
author: "Ayush Patel and Jayati sharma"
date: today
date-format: " DD MMMM, YYYY"
embed-resources: true
format: 
  revealjs:
    embed-resources: true
    slide-number: c/t
    width: 1400
    theme: [serif, theme.scss]
---

## Pre-requisite {.scrollable}

::: incremental
You already...

-   Know data wrangling in R
-   Know data visualization in R
-   Understand different types of objects in R
:::

## Before we begin

Please install and load the following packages

```{r load}
#| echo: true

library(tidyverse)
library(readxl)
```

<br> <br>

Access lecture slide from the [course landing page](https://ayushbipinpatel.github.io/GIPE-Business-Analytics/)

## About Me

::: columns
::: {.column width="70%"}
I am [Ayush]{.fragment fragment-index="1" style="font-size:45px"}.

[I am a researcher working at the intersection of data, law, development and economics.]{.fragment fragment-index="2" style="font-size:25px"}

[I teach Data Science using R at Gokhale Institute of Politics and Economics]{.fragment fragment-index="3" style="font-size:25px"}

[I am a [RStudio (Posit) certified tidyverse Instructor.](https://education.rstudio.com/trainers/people/patel+ayush/)]{.fragment fragment-index="4" style="font-size:25px"}

[I am a Researcher at [Oxford Poverty and Human development Initiative (OPHI)](https://ophi.org.uk/), at the University of Oxford.]{.fragment fragment-index="5" style="font-size:25px"}
:::

::: {.column width="30%"}
**Reach me**

{{< fa solid envelope >}} [ayush.ap58\@gmail.com]{style="font-size:25px"}

{{< fa solid envelope >}} [ayush.patel\@gipe.ac.in]{style="font-size:25px"}
:::
:::

## Why is good visualization so important? {.scrollable}

+ Every visualization has a story to tell, which requires skill
+ It is important that the reader presents data effectively, to prompt correct action or discussion 
+ Data visualization is not a tool, it is a means for communicating results
+ To understand good visualization, let us take a look at 

## Say no to 3D graphs! {.scrollable}

::: columns
::: {.column width="50%"}
-   3D graphs makes the visualizations redundant and complex for no reason
-   The bars at the front hide the ones at the back.
-   Other than looking flashy, they almost never serve the purpose of conveying information
-   The tilt makes it even more difficult to read the values
:::

::: {.column width="50%"}
![Source: [Old Street Solutions](https://www.oldstreetsolutions.com/good-and-bad-data-visualization)](https://www.oldstreetsolutions.com/wp-content/uploads/2021/05/3D-Chart.png)
:::
:::

## The more, the merrier? {.scrollable}

::: columns
::: {.column width="50%"}
-   This graphic tries to show MLA salaries
-   The information overload makes it look aesthetically unpleasant
-   With all the information, it looks difficult to understand
-   Provided with such a visual, the audience would not be able to understand anything of substance
:::

::: {.column width="50%"}
![Source: [jotform](https://www.jotform.com/blog/bad-data-visualization/)](https://www.jotform.com/blog/wp-content/uploads/2021/02/image-51.png){width="1918"}
:::
:::

## Misleading Visualization {.scrollable}

::: columns
::: {.column width="50%"}
-   Massive growth in iPhone sales, isn’t it?
-   However, a closer look shows that the sales are cumulative over time
-   Cumulative sales don’t necessarily show growth
-   Moreover, the graph does not have a scale on the y-axis
-   It isn’t clear what the graph is trying to show
:::

::: {.column width="50%"}
![Source: [syntaxtechs](https://www.syntaxtechs.com/blog/data-visualization-examples#:~:text=Examples%20of%20Bad%20Data%20Visualization:%20Mistakes%20to%20Avoid,-After%20we%20have&text=Avoid%20using%20colors%20with%20negligible,people%20who%20might%20be%20colorblind)](https://assets-global.website-files.com/60078f9b9c5ea6f60974b74b/61bdf4dfb54a53fa47b4eba6_Blog%2049.11..png)
:::
:::

## Avoid Pie Charts {.scrollable}

::: columns
::: {.column width="50%"}
-   Pie chart, in most cases, are not the best approach to visualize data.
-   Not only do they add up to 100% in this case, they also make it difficult to comprehend which component has the biggest share
-   When you choose a donut chart, you are essentially asking your audience to measure the arc length to see which has the biggest share
-   Redundant, no? A simple bar chart would have done the job
:::

::: {.column width="50%"}
![Source: [jotform](https://www.jotform.com/blog/bad-data-visualization/)](https://www.jotform.com/blog/wp-content/uploads/2021/02/image-48.png)
:::
:::

## Always a zero baseline {.scrollable}

::: columns
::: {.column width="50%"}
-   There seems to be a major difference between democrats and republicans for percent of people who agreed with court
-   However, at a closer look, the visualization has been made with a baseline of 50% which means that the difference is only around 8%
-   Graphs must always be made with a zero baseline to not exaggerate the scale
:::

::: {.column width="50%"}
![Source: [syntaxtechs](https://www.syntaxtechs.com/blog/data-visualization-examples#:~:text=Examples%20of%20Bad%20Data%20Visualization:%20Mistakes%20to%20Avoid,-After%20we%20have&text=Avoid%20using%20colors%20with%20negligible,people%20who%20might%20be%20colorblind)](https://assets-global.website-files.com/60078f9b9c5ea6f60974b74b/61bdf500194ffa8799a8400c_Blog%2049.13..jpg)
:::
:::

## Making a good graph{.scrollable}
#### [Content for this topic has been sourced from [Cole Nussbaumer Knaflic's Storytelling with Data: A Data Visualization Guide for Business Professionals'](https://r4ds.hadley.nz/). Please check out his work for detailed information.]{style="font-size:15px"}

<br>

#### Understand the context

+ Your visualization should not just present data 
+ It should ask for an action and convey a point
+ For this, you need to know exactly what piece of information you want to convey
+ Your visualizations becomes a means for this communication

## Making a good graph{.scrollable}
#### [Content for this topic has been sourced from [Cole Nussbaumer Knaflic's Storytelling with Data: A Data Visualization Guide for Business Professionals'](https://r4ds.hadley.nz/). Please check out his work for detailed information.]{style="font-size:15px"}

<br>

#### Choosing the right visual

+ Text isn't always bad!
+ Line graph for trends over time
+ Bar graph for categories
+ Scatterplot - relationship between two variables
+ Pie charts - what do you think?

## Making a good graph{.scrollable}
#### [Content for this topic has been sourced from [Cole Nussbaumer Knaflic's Storytelling with Data: A Data Visualization Guide for Business Professionals'](https://r4ds.hadley.nz/). Please check out his work for detailed information.]{style="font-size:15px"}

<br>

::: columns
::: {.column width="50%"}
#### Avoid clutter

+ Understand and reduce load while making visualizations
+ Only focus on what you want to convey
:::

::: {.column width="50%"}
![Source : [Storytelling with Data Blogs](https://www.storytellingwithdata.com/makeovers)](https://images.squarespace-cdn.com/content/v1/55b6a6dce4b089e11621d3ed/1604610820228-5SLCE89ELW6PBZ8XNEWP/line+graph+and+bar+chart+example.png?format=1500w)
:::
:::

## Making a good graph{.scrollable}
#### [Content for this topic has been sourced from [Cole Nussbaumer Knaflic's Storytelling with Data: A Data Visualization Guide for Business Professionals'](https://r4ds.hadley.nz/). Please check out his work for detailed information.]{style="font-size:15px"}

<br>

#### Focus your audience's attention

+ Need for visual cues
+ Colour is an important tool for that

::: columns
::: {.column width="50%"}

Before 

![Source : [Storytelling with Data Blogs](https://www.storytellingwithdata.com/makeovers)](https://images.squarespace-cdn.com/content/v1/55b6a6dce4b089e11621d3ed/1528204457663-5PF7KKP6HX8ZHPO83G9M/original+treemap.png?format=2500w)
:::

::: {.column width="50%"}

After 

![Source : [Storytelling with Data Blogs](https://www.storytellingwithdata.com/makeovers)](https://images.squarespace-cdn.com/content/v1/55b6a6dce4b089e11621d3ed/1528204706043-0GDPXYT10AV3XMKMG3ZC/final+solution.PNG?format=2500w)

:::
:::

## Let's replicate some graphs!{.scrollable}

+ Download the [data](Consumer Confidence Survey _ Unit Level Data.xlsx)
+ Run the code with your own file path to import the data in R

```{r import_data}
#| eval: false
#| echo: true

rbi_ccs_data <- read_xlsx(
                          "/Users/jayatisharma/Documents/GitHub/GIPE-Business-Analytics/Consumer Confidence Survey _ Unit Level Data.xlsx"
                          )
```

## Let's replicate some graphs!{.scrollable}

+ Try replicating this graph with the data

<img src="RBI_CCS.jpeg" width="60%" height="600"/>

Source : [Twitter](https://twitter.com/Roshanjnu/status/1752595224529133964?t=BkjfHgXYPZV6g0OC8e5VdQ&s=08)


```{r replication, include=FALSE}
#| eval: false
#| echo: true

rbi_ccs_data <- rbi_ccs_data |>
  select(`Average Monthly Income`, `Perception on General Economic condition - compared to one year ago`)

rbi_ccs_percent <- rbi_ccs_data |>
  group_by(`Average Monthly Income`, `Perception on General Economic condition - compared to one year ago`) |>
  summarise(Count = n()) |>
  ungroup() |>
  group_by(`Average Monthly Income`) |>
  mutate(Total = sum(Count), Percentage = Count / Total * 100) |>
  filter(`Perception on General Economic condition - compared to one year ago` != "Remained The Same")
```

``` {r rep_graph, include=FALSE}
#| eval: false
#| echo: true

rbi_ccs_percent$`Average Monthly Income` <- factor(rbi_ccs_percent$`Average Monthly Income`, levels = c("Rs. 1 lakh and above", "Rs. 50 thousand to less then Rs. 1 lakh", "Rs. 25 thousand to less then Rs. 50 thousand", "Rs. 10 thousand to less then Rs. 25 thousand", "Rs. 5 thousand to less then Rs. 10 thousand", "Less then Rs. 5 thousand"))

ggplot(rbi_ccs_percent, aes(x = `Average Monthly Income`, y = Percentage, fill = `Perception on General Economic condition - compared to one year ago`)) +
  geom_bar(stat = "identity", position = "dodge", width = 0.7) +
  geom_text(aes(label = paste0(round(Percentage, 1), "%"), y = 0.5), 
            position = position_dodge(width = 0.9),    # Adjust position to match bars
            hjust = 0, size = 4, colour = "white") + 
  theme_minimal() +
  labs(title = "The class-divide in economic sentiment",
       subtitle = "Share of respondents in each income group in RBI's Consumer Confidence Survey",
       caption = "Income categories are average monthly income") +
  scale_fill_manual(values = c("Improved" = "#C30010", "Worsened" = "#03f087"))+
  labs(x = NULL, y = NULL, fill = NULL) +  
  theme(legend.title = element_blank(),
        axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        plot.title = element_text(face = "bold"),
        legend.position = "top",
        legend.box = "vertical",
        axis.text.x = element_text(colour = "black"), # Change x-axis label color to black
        axis.text.y = element_text(colour = "black"))+
  coord_flip()
```



## Let's replicate some graphs!{.scrollable}

+ Import [this](MPCE.xlsx) data in R
+ Try recreating this graph

<img src="MPCE_graph.jpg" width="75%" height="600"/>

```{r import_data_g2, include=FALSE}
#| eval: false
#| echo: true

MPCE <- read_xlsx("/Users/jayatisharma/Documents/GitHub/GIPE-Business-Analytics/MPCE.xlsx")

MPCE <- MPCE |>
  slice(1:12)

ggplot(MPCE, aes(x = `Fractile classes of MPCE`)) +
  geom_segment(aes(xend = `Fractile classes of MPCE`, y = Rural, yend = Urban), color = "#EEEEEE", size = 3.5) +
  geom_point(aes(y = Rural), color = "#48BBDB", size = 3.5) +
  geom_point(aes(y = Urban), color = "#50C878", size = 3.5) +
  scale_y_continuous(labels = scales::comma) +
  geom_text(aes(y = Rural, label = Rural), 
                   nudge_y = -390, # Adjust this value as needed to position the labels correctly
                   color = "#48BBDB", 
                   size = 3.5)+
   geom_text(aes(y = Urban, label = Urban), 
                   nudge_y = 390, # Adjust this value as needed to position the labels correctly
                   color = "#50C878", 
                   size = 3.5)+
  labs(title = "Average MPCE across Fractile Classes in 2022-23 (in Rs.)",
       caption = "Chart: Jayati Sharma | Source: HCES: 2022-23 Fact Sheet; MOSPI | Created with Datawrapper") +
  theme_minimal() +
  theme(
    axis.title.x = element_blank(),
    axis.title.y = element_blank(),
    plot.title = element_text(face = "bold", hjust = 0.5),
    plot.caption = element_text(hjust = 0, face="italic"),
    axis.text.x = element_text(colour = "black"), # Change x-axis label color to black
        axis.text.y = element_text(colour = "black"))+
  coord_flip()

```

## Thank You :){.center}